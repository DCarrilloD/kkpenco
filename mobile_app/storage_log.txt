C:\Users\dvd_c\Desktop\Antigravity\mobile_app\test_storage.py:28: DeprecationWarning: app() is deprecated since version 0.70.0. Use run() instead.
  ft.app(target=main)
DEBUG:asyncio:Using proactor: IocpProactor
INFO:flet:Assets path configured: C:\Users\dvd_c\Desktop\Antigravity\mobile_app\assets
DEBUG:flet:Creating new PubSubHub instance
INFO:flet:Starting up TCP server on localhost:50528
INFO:flet:Flet app has started...
INFO:flet:App URL: tcp://localhost:50528
INFO:flet_desktop:Starting Flet View app...
INFO:flet_desktop:Looking for Flet executable at: C:\Users\dvd_c\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\flet_desktop\app\flet\flet.exe
INFO:flet_desktop:Flet View found in: C:\Users\dvd_c\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\flet_desktop\app\flet\flet.exe
DEBUG:flet:No active connection to terminate.
DEBUG:flet:Connected new socket client
DEBUG:flet_transport:_on_message: ClientAction.REGISTER_CLIENT {'session_id': None, 'page_name': '', 'page': {'route': '/', 'pwa': False, 'web': False, 'debug': False, 'wasm': False, 'test': False, 'multi_view': False, 'pyodide': False, 'platform_brightness': 'dark', 'width': 1264.0, 'height': 681.0, 'platform': 'windows', 'window': {'maximized': False, 'minimized': False, 'full_screen': False, 'always_on_top': False, 'focused': True, 'visible': True, 'width': 1280.0, 'height': 720.0, 'top': 10.0, 'left': 10.0, 'opacity': 1.0}, 'media': {'padding': {'top': 0.0, 'right': 0.0, 'bottom': 0.0, 'left': 0.0}, 'view_padding': {'top': 0.0, 'right': 0.0, 'bottom': 0.0, 'left': 0.0}, 'view_insets': {'top': 0.0, 'right': 0.0, 'bottom': 0.0, 'left': 0.0}, 'device_pixel_ratio': 1.0, 'orientation': 'landscape', 'always_use_24_hour_format': True}}}
DEBUG:flet_controls:Page(1 - 2210669535184).did_mount()
DEBUG:flet_controls:View(3 - 2210669535520).did_mount()
DEBUG:flet_controls:Overlay(4 - 2210669536528).did_mount()
DEBUG:flet_controls:Dialogs(5 - 2210669536864).did_mount()
DEBUG:flet_controls:Window(2 - 2210669537200).did_mount()
DEBUG:flet_controls:ServiceRegistry(7 - 2210669537536).did_mount()
DEBUG:flet_transport:send_message: ClientMessage(action=<ClientAction.REGISTER_CLIENT: 1>, body=RegisterClientResponseBody(session_id='rc3EOu8oyngKJhAR', page_patch=Page(_i=1, _c='Page', data=None, key=None, expand=None, expand_loose=False, col=12, opacity=1.0, tooltip=None, badge=None, visible=True, disabled=False, rtl=False, adaptive=None, views=[View(_i=3, _c='View', data=None, key=None, expand=None, expand_loose=False, col=12, opacity=1.0, tooltip=None, badge=None, visible=True, disabled=False, rtl=False, width=None, height=None, left=None, top=None, right=None, bottom=None, align=None, margin=None, rotate=None, scale=None, offset=None, aspect_ratio=None, animate_opacity=None, animate_size=None, animate_position=None, animate_align=None, animate_margin=None, animate_rotation=None, animate_scale=None, animate_offset=None, on_animation_end=None, scroll=None, auto_scroll=False, scroll_interval=10, on_scroll=None, controls=[], route='/', appbar=None, bottom_appbar=None, floating_action_button=None, floating_action_button_location=None, navigation_bar=None, drawer=None, end_drawer=None, vertical_alignment=<MainAxisAlignment.START: 'start'>, horizontal_alignment=<CrossAxisAlignment.START: 'start'>, spacing=10, padding=Padding(left=10, top=10, right=10, bottom=10), bgcolor=None, decoration=None, foreground_decoration=None, fullscreen_dialog=False, services=[], can_pop=True, on_confirm_pop=None)], theme_mode=<ThemeMode.SYSTEM: 'system'>, theme=None, dark_theme=None, locale_configuration=None, show_semantics_debugger=None, title=None, enable_screenshots=False, on_resize=None, on_media_change=None, media=PageMediaData(padding=Padding(left=0.0, top=0.0, right=0.0, bottom=0.0), view_padding=Padding(left=0.0, top=0.0, right=0.0, bottom=0.0), view_insets=Padding(left=0.0, top=0.0, right=0.0, bottom=0.0), device_pixel_ratio=1.0, orientation=<Orientation.LANDSCAPE: 'landscape'>, always_use_24_hour_format=True), width=1264.0, height=681.0, _overlay=Overlay(_i=4, _c='Overlay', data=None, key=None, controls=[]), _dialogs=Dialogs(_i=5, _c='Dialogs', data=None, key=None, controls=[]), multi_views=[], window=Window(_i=2, _c='Window', data=None, key=None, bgcolor=None, width=1280.0, height=720.0, top=10.0, left=10.0, max_width=None, max_height=None, min_width=None, min_height=None, opacity=1.0, aspect_ratio=None, brightness=None, maximized=False, minimized=False, minimizable=True, maximizable=True, resizable=True, movable=True, full_screen=False, always_on_top=False, always_on_bottom=False, prevent_close=False, skip_task_bar=False, title_bar_hidden=False, title_bar_buttons_hidden=False, frameless=False, progress_bar=None, focused=True, visible=True, shadow=True, alignment=None, badge_label=None, icon=None, ignore_mouse_events=False, on_event=None), route='/', web=False, pwa=False, debug=False, wasm=False, test=False, multi_view=False, pyodide=False, platform_brightness=<Brightness.DARK: 'dark'>, client_ip=None, client_user_agent=None, platform=<PagePlatform.WINDOWS: 'windows'>, fonts=None, on_platform_brightness_change=None, on_app_lifecycle_state_change=None, on_route_change=None, on_view_pop=None, on_keyboard_event=None, on_connect=None, on_disconnect=None, on_close=None, on_login=None, on_logout=None, on_error=None, on_multi_view_add=None, on_multi_view_remove=None, _services=ServiceRegistry(_i=7, _c='ServiceRegistry', data=None, key=None, _services=[])), error=''))
INFO:flet:App session started
DEBUG:flet_transport:send_message: ClientMessage(action=<ClientAction.PATCH_CONTROL: 2>, body=PatchControlBody(id=1, patch=[[0, {'views': [1, {0: [2]}]}], [<Operation.Replace: 0>, 2, 'controls', [Text(_i=9, _c='Text', data=None, key=None, expand=None, expand_loose=False, col=12, opacity=1.0, tooltip=None, badge=None, visible=True, disabled=False, rtl=False, width=None, height=None, left=None, top=None, right=None, bottom=None, align=None, margin=None, rotate=None, scale=None, offset=None, aspect_ratio=None, animate_opacity=None, animate_size=None, animate_position=None, animate_align=None, animate_margin=None, animate_rotation=None, animate_scale=None, animate_offset=None, on_animation_end=None, value='Testing Storage', spans=None, text_align=<TextAlign.START: 'start'>, font_family=None, size=None, weight=None, italic=False, style=None, theme_style=None, max_lines=None, overflow=<TextOverflow.CLIP: 'clip'>, selectable=None, no_wrap=None, color=None, bgcolor=None, semantics_label=None, show_selection_cursor=False, enable_interactive_selection=True, selection_cursor_width=2.0, selection_cursor_height=None, selection_cursor_color=None, on_tap=None, on_selection_change=None)]]]))
DEBUG:flet_controls:Text(9 - 2210669534512).did_mount()
C:\Users\dvd_c\Desktop\Antigravity\mobile_app\test_storage.py:17: DeprecationWarning: shared_preferences is deprecated since version 0.70.0 and will be removed in version 0.90.0. Use SharedPreferences() instead.
  if hasattr(page, "shared_preferences"):
DEBUG:flet:Registering service SharedPreferences(10) to registry 7
DEBUG:flet_transport:send_message: ClientMessage(action=<ClientAction.PATCH_CONTROL: 2>, body=PatchControlBody(id=7, patch=[[0], [<Operation.Replace: 0>, 0, '_services', [SharedPreferences(_i=10, _c='SharedPreferences', data=None, key=None)]]]))
DEBUG:flet_controls:SharedPreferences(10 - 2210669538880).did_mount()
C:\Users\dvd_c\Desktop\Antigravity\mobile_app\test_storage.py:19: DeprecationWarning: shared_preferences is deprecated since version 0.70.0 and will be removed in version 0.90.0. Use SharedPreferences() instead.
  print("shared_preferences dir:", dir(page.shared_preferences))
DEBUG:flet:Registering service SharedPreferences(11) to registry 7
DEBUG:flet_transport:send_message: ClientMessage(action=<ClientAction.PATCH_CONTROL: 2>, body=PatchControlBody(id=7, patch=[[0, {'_services': [1]}], [<Operation.Add: 1>, 1, 1, SharedPreferences(_i=11, _c='SharedPreferences', data=None, key=None)]]))
DEBUG:flet_controls:SharedPreferences(11 - 2210669389264).did_mount()
C:\Users\dvd_c\Desktop\Antigravity\mobile_app\test_storage.py:21: DeprecationWarning: shared_preferences is deprecated since version 0.70.0 and will be removed in version 0.90.0. Use SharedPreferences() instead.
  sp = page.shared_preferences
DEBUG:flet:Registering service SharedPreferences(12) to registry 7
DEBUG:flet_transport:send_message: ClientMessage(action=<ClientAction.PATCH_CONTROL: 2>, body=PatchControlBody(id=7, patch=[[0, {'_services': [1]}], [<Operation.Add: 1>, 1, 2, SharedPreferences(_i=12, _c='SharedPreferences', data=None, key=None)]]))
DEBUG:flet_controls:SharedPreferences(12 - 2210669388944).did_mount()
DEBUG:flet:Removed 3 services from the registry
DEBUG:flet_controls:SharedPreferences(10 - 2210669538880).will_unmount()
DEBUG:flet_controls:SharedPreferences(11 - 2210669389264).will_unmount()
DEBUG:flet_controls:SharedPreferences(12 - 2210669388944).will_unmount()
DEBUG:flet_transport:send_message: ClientMessage(action=<ClientAction.PATCH_CONTROL: 2>, body=PatchControlBody(id=7, patch=[[0], [<Operation.Replace: 0>, 0, '_services', []]]))
DEBUG:flet_transport:_on_message: ClientAction.UPDATE_CONTROL_PROPS {'id': 1, 'props': {'platform_brightness': 'dark'}}
DEBUG:flet_transport:_on_message: ClientAction.CONTROL_EVENT {'target': 1, 'name': 'platform_brightness_change', 'data': 'dark'}
DEBUG:flet_transport:_on_message: ClientAction.UPDATE_CONTROL_PROPS {'id': 1, 'props': {'media': {'padding': {'top': 0.0, 'right': 0.0, 'bottom': 0.0, 'left': 0.0}, 'view_padding': {'top': 0.0, 'right': 0.0, 'bottom': 0.0, 'left': 0.0}, 'view_insets': {'top': 0.0, 'right': 0.0, 'bottom': 0.0, 'left': 0.0}, 'device_pixel_ratio': 1.0, 'orientation': 'landscape', 'always_use_24_hour_format': True}}}
DEBUG:flet_transport:_on_message: ClientAction.UPDATE_CONTROL_PROPS {'id': 1, 'props': {'width': 1264.0, 'height': 681.0}}
DEBUG:flet_transport:_on_message: ClientAction.UPDATE_CONTROL_PROPS {'id': 2, 'props': {'maximized': False, 'minimized': False, 'full_screen': False, 'always_on_top': False, 'focused': True, 'visible': True, 'width': 1280.0, 'height': 720.0, 'top': 10.0, 'left': 10.0, 'opacity': 1.0}}
DEBUG:flet_controls:Trigger event Page(1 - 2210669535184).on_platform_brightness_change Event(name='platform_brightness_change', data='dark')
DEBUG:flet_transport:_on_message: ClientAction.CONTROL_EVENT {'target': 1, 'name': 'app_lifecycle_state_change', 'data': {'state': 'inactive'}}
DEBUG:flet_controls:Trigger event Page(1 - 2210669535184).on_app_lifecycle_state_change AppLifecycleStateChangeEvent(name='app_lifecycle_state_change', data=None, state=<AppLifecycleState.INACTIVE: 'inactive'>)
DEBUG:flet_transport:_on_message: ClientAction.UPDATE_CONTROL_PROPS {'id': 2, 'props': {'maximized': False, 'minimized': False, 'full_screen': False, 'always_on_top': False, 'focused': False, 'visible': True, 'width': 1280.0, 'height': 720.0, 'top': 10.0, 'left': 10.0, 'opacity': 1.0}}
